{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sinha\\\\Desktop\\\\Computing Projects\\\\INFS3059\\\\friend-finder\\\\client\\\\src\\\\components\\\\Profile\\\\ProfilePromptsEnhanced.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAuth } from '../../hooks/useAuth';\nimport { updateUserProfile } from '../../services/api';\nimport '../../styles/profile.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfilePrompts = ({\n  forNewUser,\n  onComplete\n}) => {\n  _s();\n  const {\n    user,\n    setUser,\n    setIsNewUser\n  } = useAuth();\n  const [currentPrompt, setCurrentPrompt] = useState(null);\n  const [response, setResponse] = useState('');\n  const [submitted, setSubmitted] = useState(false);\n  const [promptIndex, setPromptIndex] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [matchImprovementData, setMatchImprovementData] = useState(null);\n\n  // Comprehensive questionnaire for new users (8-10 questions)\n  const newUserPrompts = useMemo(() => [{\n    id: 'communication_style',\n    question: 'How do you prefer to communicate with friends?',\n    options: ['Text messaging', 'Voice calls', 'Video chats', 'In-person meetups', 'Social media'],\n    category: 'socialPreferences',\n    field: 'communicationStyle',\n    importance: 'high',\n    explanation: 'This helps us match you with friends who communicate in similar ways.'\n  }, {\n    id: 'social_energy',\n    question: 'After socializing, do you typically feel:',\n    options: ['Energized and ready for more', 'It depends on the people', 'Drained and needing alone time'],\n    category: 'socialPreferences',\n    field: 'socialEnergy',\n    mapping: {\n      'Energized and ready for more': 'Extrovert',\n      'It depends on the people': 'Ambivert',\n      'Drained and needing alone time': 'Introvert'\n    },\n    importance: 'high',\n    explanation: 'Understanding your social energy helps us find compatible friends.'\n  }, {\n    id: 'weekend_activity',\n    question: 'What\\'s your ideal weekend activity?',\n    options: ['Outdoor adventures', 'Cultural events', 'Relaxing at home', 'Social gatherings', 'Sports', 'Creative projects'],\n    category: 'lifestyle',\n    field: 'weekendPlans',\n    importance: 'high',\n    explanation: 'Shared weekend preferences lead to better friendships.'\n  }, {\n    id: 'friendship_value',\n    question: 'What do you value most in a friendship?',\n    options: ['Loyalty', 'Honesty', 'Similar interests', 'Good conversation', 'Emotional support', 'Fun and humor'],\n    category: 'values',\n    field: 'friendshipValues',\n    importance: 'high',\n    explanation: 'Core values alignment is crucial for lasting friendships.'\n  }, {\n    id: 'activity_level',\n    question: 'How would you describe your activity level?',\n    options: ['Very active (daily exercise)', 'Moderately active (few times a week)', 'Occasionally active', 'Prefer low-activity'],\n    category: 'lifestyle',\n    field: 'activityLevel',\n    importance: 'medium',\n    explanation: 'Activity level compatibility helps with shared activities.'\n  }, {\n    id: 'time_availability',\n    question: 'When are you usually available to hang out?',\n    options: ['Weekday evenings', 'Weekend days', 'Weekend evenings', 'Flexible schedule', 'Lunch breaks'],\n    category: 'lifestyle',\n    field: 'availability',\n    importance: 'medium',\n    explanation: 'Matching schedules makes it easier to spend time together.'\n  }, {\n    id: 'group_size_preference',\n    question: 'Do you prefer hanging out:',\n    options: ['One-on-one', 'Small groups (2-4 people)', 'Medium groups (5-8 people)', 'Large groups (9+ people)', 'No preference'],\n    category: 'socialPreferences',\n    field: 'groupSizePreference',\n    importance: 'medium',\n    explanation: 'Group size preferences help us suggest the right social settings.'\n  }, {\n    id: 'conversation_topics',\n    question: 'What topics do you enjoy discussing most?',\n    options: ['Current events', 'Personal growth', 'Hobbies & interests', 'Work & career', 'Pop culture', 'Deep philosophical topics'],\n    category: 'socialPreferences',\n    field: 'conversationTopics',\n    importance: 'medium',\n    explanation: 'Shared conversation interests lead to more engaging interactions.'\n  }], []);\n\n  // Shorter questionnaire for existing users (2-3 questions)\n  const existingUserPrompts = useMemo(() => [{\n    id: 'recent_interests',\n    question: 'What new interests have you developed lately?',\n    options: ['Fitness & wellness', 'Creative arts', 'Technology', 'Travel planning', 'Cooking', 'Gaming', 'Reading', 'None recently'],\n    category: 'interests',\n    field: 'recentInterests',\n    importance: 'medium',\n    explanation: 'New interests help us find fresh connections.'\n  }, {\n    id: 'friendship_goals',\n    question: 'What are you looking for in new friendships right now?',\n    options: ['Activity partners', 'Deep conversations', 'Casual hangouts', 'Professional networking', 'Study/work buddies'],\n    category: 'socialPreferences',\n    field: 'friendshipGoals',\n    importance: 'high',\n    explanation: 'Understanding your current friendship goals helps us make better matches.'\n  }, {\n    id: 'communication_frequency',\n    question: 'How often do you like to stay in touch with friends?',\n    options: ['Daily check-ins', 'Few times a week', 'Weekly catch-ups', 'Bi-weekly', 'Monthly or less'],\n    category: 'socialPreferences',\n    field: 'communicationFrequency',\n    importance: 'medium',\n    explanation: 'Communication frequency preferences prevent mismatched expectations.'\n  }], []);\n\n  // Memoize the prompts array based on user type\n  const prompts = useMemo(() => {\n    return forNewUser ? newUserPrompts : existingUserPrompts;\n  }, [forNewUser, newUserPrompts, existingUserPrompts]);\n\n  // Calculate progress for new users\n  useEffect(() => {\n    if (forNewUser) {\n      setProgress(Math.round(promptIndex / prompts.length * 100));\n    }\n  }, [promptIndex, prompts.length, forNewUser]);\n\n  // Initialize prompt for user\n  useEffect(() => {\n    if (!user) return;\n    if (forNewUser) {\n      if (promptIndex < prompts.length) {\n        setCurrentPrompt(prompts[promptIndex]);\n        setSubmitted(false);\n        setResponse('');\n      } else {\n        // All prompts completed for new user\n        handleComplete();\n      }\n      return;\n    }\n\n    // For existing users, show prompts occasionally\n    const shouldShowPrompt = () => {\n      const lastPromptTime = localStorage.getItem('lastPromptTime');\n      if (lastPromptTime) {\n        const timeSinceLastPrompt = Date.now() - parseInt(lastPromptTime);\n        const oneDayInMs = 24 * 60 * 60 * 1000;\n        if (timeSinceLastPrompt < oneDayInMs) {\n          return false;\n        }\n      }\n      return Math.random() < 0.3;\n    };\n    if (shouldShowPrompt()) {\n      const answeredPromptIds = JSON.parse(localStorage.getItem('answeredPrompts') || '[]');\n      const eligiblePrompts = prompts.filter(prompt => !answeredPromptIds.includes(prompt.id));\n      if (eligiblePrompts.length > 0) {\n        const randomIndex = Math.floor(Math.random() * eligiblePrompts.length);\n        setCurrentPrompt(eligiblePrompts[randomIndex]);\n        setSubmitted(false);\n        setResponse('');\n      }\n    }\n  }, [user, promptIndex, forNewUser, prompts]);\n  const handleComplete = useCallback(() => {\n    if (setIsNewUser) {\n      setIsNewUser(false);\n    }\n    if (onComplete) {\n      onComplete();\n    }\n\n    // Show match improvement data\n    const improvementData = {\n      questionsAnswered: forNewUser ? prompts.length : 1,\n      matchQualityIncrease: forNewUser ? 45 : 15,\n      newPotentialMatches: forNewUser ? 12 : 3,\n      profileCompleteness: forNewUser ? 85 : (user.profileCompleteness || 60) + 10\n    };\n    setMatchImprovementData(improvementData);\n  }, [setIsNewUser, onComplete, forNewUser, prompts.length, user]);\n  const handleOptionSelect = useCallback(option => {\n    setResponse(option);\n    // Auto-submit after a short delay for smoother UX\n    setTimeout(() => {\n      if (option) {\n        setResponse(option);\n        // Trigger submit automatically for better flow\n        handleSubmit();\n      }\n    }, 300);\n  }, [handleSubmit]);\n  const handleSubmit = useCallback(async () => {\n    if (!response || !currentPrompt || loading) return;\n    setLoading(true);\n    try {\n      var _user$currentPrompt$c;\n      const updateData = {};\n\n      // Create nested structure if needed\n      if (!user[currentPrompt.category]) {\n        updateData[currentPrompt.category] = {};\n      } else {\n        updateData[currentPrompt.category] = {\n          ...user[currentPrompt.category]\n        };\n      }\n\n      // Handle mapped values\n      if (currentPrompt.mapping && currentPrompt.mapping[response]) {\n        updateData[currentPrompt.category][currentPrompt.field] = currentPrompt.mapping[response];\n      } else if (Array.isArray((_user$currentPrompt$c = user[currentPrompt.category]) === null || _user$currentPrompt$c === void 0 ? void 0 : _user$currentPrompt$c[currentPrompt.field])) {\n        updateData[currentPrompt.category][currentPrompt.field] = [...(user[currentPrompt.category][currentPrompt.field] || []), response];\n      } else {\n        updateData[currentPrompt.category][currentPrompt.field] = response;\n      }\n\n      // Update user context immediately for responsiveness\n      if (setUser) {\n        setUser(prev => ({\n          ...prev,\n          [currentPrompt.category]: {\n            ...(prev[currentPrompt.category] || {}),\n            [currentPrompt.field]: updateData[currentPrompt.category][currentPrompt.field]\n          }\n        }));\n      }\n\n      // Move to next question immediately, API call in background\n      setSubmitted(true);\n\n      // For new users, move to next prompt quickly\n      if (forNewUser) {\n        setTimeout(() => {\n          setPromptIndex(prev => prev + 1);\n        }, 800); // Reduced from 1500ms\n      } else {\n        // For existing users, show completion\n        setTimeout(() => {\n          handleComplete();\n        }, 1000); // Reduced from 2000ms\n      }\n\n      // API call happens in background\n      await updateUserProfile(updateData);\n\n      // Record answered prompt\n      const answeredPrompts = JSON.parse(localStorage.getItem('answeredPrompts') || '[]');\n      answeredPrompts.push(currentPrompt.id);\n      localStorage.setItem('answeredPrompts', JSON.stringify(answeredPrompts));\n      localStorage.setItem('lastPromptTime', Date.now().toString());\n    } catch (err) {\n      console.error('Error updating profile with prompt response:', err);\n      // Don't block UI for API errors - could show a toast notification instead\n    } finally {\n      setLoading(false);\n    }\n  }, [response, currentPrompt, loading, user, setUser, forNewUser, handleComplete]);\n  const handleSkip = useCallback(() => {\n    if (forNewUser) {\n      setPromptIndex(prev => prev + 1);\n    } else {\n      setCurrentPrompt(null);\n    }\n  }, [forNewUser]);\n\n  // Show match improvement results\n  if (matchImprovementData) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"match-improvement-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"improvement-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83C\\uDF89 Great! Your profile just got better!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Here's how your responses are helping us find better matches:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"improvement-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: [\"+\", matchImprovementData.matchQualityIncrease, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Match Quality Increase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: [\"+\", matchImprovementData.newPotentialMatches]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"New Potential Matches\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-number\",\n            children: [matchImprovementData.profileCompleteness, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat-label\",\n            children: \"Profile Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"improvement-explanation\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDCCA Your answers help our algorithm understand your preferences better. The more you tell us, the better matches we can find!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"continue-button\",\n        onClick: () => setMatchImprovementData(null),\n        children: \"Continue to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this);\n  }\n  if (!currentPrompt || !user) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-prompt-container enhanced\",\n    children: [forNewUser && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"questionnaire-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Question \", promptIndex + 1, \" of \", prompts.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [progress, \"% complete\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${progress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-prompt-card enhanced\",\n      children: !submitted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prompt-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: forNewUser ? 'üëã Let\\'s get to know you!' : 'üí° Quick Question'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"importance-indicator\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `importance-badge ${currentPrompt.importance}`,\n              children: currentPrompt.importance === 'high' ? '‚≠ê Important' : 'üìà Helpful'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"prompt-question\",\n          children: currentPrompt.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 25\n        }, this), currentPrompt.explanation && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"prompt-explanation\",\n          children: currentPrompt.explanation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prompt-options enhanced\",\n          children: currentPrompt.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `prompt-option enhanced ${response === option ? 'selected' : ''}`,\n            onClick: () => handleOptionSelect(option),\n            disabled: loading,\n            children: option\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prompt-actions enhanced\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `prompt-submit enhanced ${!response || loading ? 'disabled' : ''}`,\n            onClick: handleSubmit,\n            disabled: !response || loading,\n            children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"loading-spinner small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 41\n              }, this), \"Saving...\"]\n            }, void 0, true) : forNewUser ? 'Next' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"prompt-skip enhanced\",\n            onClick: handleSkip,\n            disabled: loading,\n            children: \"Skip\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 25\n        }, this), forNewUser && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"prompt-note enhanced\",\n          children: \"\\uD83D\\uDCA1 Each answer helps us find friends who truly match your personality and preferences.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prompt-success enhanced\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-icon\",\n          children: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Perfect!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: forNewUser ? 'Moving to the next question...' : 'Your response has been saved!'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 25\n        }, this), !forNewUser && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"match-impact\",\n          children: [\"This will help us find \", Math.floor(Math.random() * 3) + 2, \" better matches for you!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfilePrompts, \"QITUPI2kNPYt5YNTG5PEGfe5Ncc=\", false, function () {\n  return [useAuth];\n});\n_c = ProfilePrompts;\nexport default ProfilePrompts;\nvar _c;\n$RefreshReg$(_c, \"ProfilePrompts\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useAuth","updateUserProfile","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilePrompts","forNewUser","onComplete","_s","user","setUser","setIsNewUser","currentPrompt","setCurrentPrompt","response","setResponse","submitted","setSubmitted","promptIndex","setPromptIndex","loading","setLoading","progress","setProgress","matchImprovementData","setMatchImprovementData","newUserPrompts","id","question","options","category","field","importance","explanation","mapping","existingUserPrompts","prompts","Math","round","length","handleComplete","shouldShowPrompt","lastPromptTime","localStorage","getItem","timeSinceLastPrompt","Date","now","parseInt","oneDayInMs","random","answeredPromptIds","JSON","parse","eligiblePrompts","filter","prompt","includes","randomIndex","floor","improvementData","questionsAnswered","matchQualityIncrease","newPotentialMatches","profileCompleteness","handleOptionSelect","option","setTimeout","handleSubmit","_user$currentPrompt$c","updateData","Array","isArray","prev","answeredPrompts","push","setItem","stringify","toString","err","console","error","handleSkip","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","width","map","index","disabled","_c","$RefreshReg$"],"sources":["C:/Users/sinha/Desktop/Computing Projects/INFS3059/friend-finder/client/src/components/Profile/ProfilePromptsEnhanced.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { useAuth } from '../../hooks/useAuth';\r\nimport { updateUserProfile } from '../../services/api';\r\nimport '../../styles/profile.css';\r\n\r\nconst ProfilePrompts = ({ forNewUser, onComplete }) => {\r\n    const { user, setUser, setIsNewUser } = useAuth();\r\n    const [currentPrompt, setCurrentPrompt] = useState(null);\r\n    const [response, setResponse] = useState('');\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [promptIndex, setPromptIndex] = useState(0);\r\n    const [loading, setLoading] = useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [matchImprovementData, setMatchImprovementData] = useState(null);\r\n\r\n    // Comprehensive questionnaire for new users (8-10 questions)\r\n    const newUserPrompts = useMemo(() => [\r\n        {\r\n            id: 'communication_style',\r\n            question: 'How do you prefer to communicate with friends?',\r\n            options: ['Text messaging', 'Voice calls', 'Video chats', 'In-person meetups', 'Social media'],\r\n            category: 'socialPreferences',\r\n            field: 'communicationStyle',\r\n            importance: 'high',\r\n            explanation: 'This helps us match you with friends who communicate in similar ways.'\r\n        },\r\n        {\r\n            id: 'social_energy',\r\n            question: 'After socializing, do you typically feel:',\r\n            options: ['Energized and ready for more', 'It depends on the people', 'Drained and needing alone time'],\r\n            category: 'socialPreferences',\r\n            field: 'socialEnergy',\r\n            mapping: {\r\n                'Energized and ready for more': 'Extrovert',\r\n                'It depends on the people': 'Ambivert',\r\n                'Drained and needing alone time': 'Introvert'\r\n            },\r\n            importance: 'high',\r\n            explanation: 'Understanding your social energy helps us find compatible friends.'\r\n        },\r\n        {\r\n            id: 'weekend_activity',\r\n            question: 'What\\'s your ideal weekend activity?',\r\n            options: ['Outdoor adventures', 'Cultural events', 'Relaxing at home', 'Social gatherings', 'Sports', 'Creative projects'],\r\n            category: 'lifestyle',\r\n            field: 'weekendPlans',\r\n            importance: 'high',\r\n            explanation: 'Shared weekend preferences lead to better friendships.'\r\n        },\r\n        {\r\n            id: 'friendship_value',\r\n            question: 'What do you value most in a friendship?',\r\n            options: ['Loyalty', 'Honesty', 'Similar interests', 'Good conversation', 'Emotional support', 'Fun and humor'],\r\n            category: 'values',\r\n            field: 'friendshipValues',\r\n            importance: 'high',\r\n            explanation: 'Core values alignment is crucial for lasting friendships.'\r\n        },\r\n        {\r\n            id: 'activity_level',\r\n            question: 'How would you describe your activity level?',\r\n            options: ['Very active (daily exercise)', 'Moderately active (few times a week)', 'Occasionally active', 'Prefer low-activity'],\r\n            category: 'lifestyle',\r\n            field: 'activityLevel',\r\n            importance: 'medium',\r\n            explanation: 'Activity level compatibility helps with shared activities.'\r\n        },\r\n        {\r\n            id: 'time_availability',\r\n            question: 'When are you usually available to hang out?',\r\n            options: ['Weekday evenings', 'Weekend days', 'Weekend evenings', 'Flexible schedule', 'Lunch breaks'],\r\n            category: 'lifestyle',\r\n            field: 'availability',\r\n            importance: 'medium',\r\n            explanation: 'Matching schedules makes it easier to spend time together.'\r\n        },\r\n        {\r\n            id: 'group_size_preference',\r\n            question: 'Do you prefer hanging out:',\r\n            options: ['One-on-one', 'Small groups (2-4 people)', 'Medium groups (5-8 people)', 'Large groups (9+ people)', 'No preference'],\r\n            category: 'socialPreferences',\r\n            field: 'groupSizePreference',\r\n            importance: 'medium',\r\n            explanation: 'Group size preferences help us suggest the right social settings.'\r\n        },\r\n        {\r\n            id: 'conversation_topics',\r\n            question: 'What topics do you enjoy discussing most?',\r\n            options: ['Current events', 'Personal growth', 'Hobbies & interests', 'Work & career', 'Pop culture', 'Deep philosophical topics'],\r\n            category: 'socialPreferences',\r\n            field: 'conversationTopics',\r\n            importance: 'medium',\r\n            explanation: 'Shared conversation interests lead to more engaging interactions.'\r\n        }\r\n    ], []);\r\n\r\n    // Shorter questionnaire for existing users (2-3 questions)\r\n    const existingUserPrompts = useMemo(() => [\r\n        {\r\n            id: 'recent_interests',\r\n            question: 'What new interests have you developed lately?',\r\n            options: ['Fitness & wellness', 'Creative arts', 'Technology', 'Travel planning', 'Cooking', 'Gaming', 'Reading', 'None recently'],\r\n            category: 'interests',\r\n            field: 'recentInterests',\r\n            importance: 'medium',\r\n            explanation: 'New interests help us find fresh connections.'\r\n        },\r\n        {\r\n            id: 'friendship_goals',\r\n            question: 'What are you looking for in new friendships right now?',\r\n            options: ['Activity partners', 'Deep conversations', 'Casual hangouts', 'Professional networking', 'Study/work buddies'],\r\n            category: 'socialPreferences',\r\n            field: 'friendshipGoals',\r\n            importance: 'high',\r\n            explanation: 'Understanding your current friendship goals helps us make better matches.'\r\n        },\r\n        {\r\n            id: 'communication_frequency',\r\n            question: 'How often do you like to stay in touch with friends?',\r\n            options: ['Daily check-ins', 'Few times a week', 'Weekly catch-ups', 'Bi-weekly', 'Monthly or less'],\r\n            category: 'socialPreferences',\r\n            field: 'communicationFrequency',\r\n            importance: 'medium',\r\n            explanation: 'Communication frequency preferences prevent mismatched expectations.'\r\n        }\r\n    ], []);\r\n\r\n    // Memoize the prompts array based on user type\r\n    const prompts = useMemo(() => {\r\n        return forNewUser ? newUserPrompts : existingUserPrompts;\r\n    }, [forNewUser, newUserPrompts, existingUserPrompts]);\r\n\r\n    // Calculate progress for new users\r\n    useEffect(() => {\r\n        if (forNewUser) {\r\n            setProgress(Math.round((promptIndex / prompts.length) * 100));\r\n        }\r\n    }, [promptIndex, prompts.length, forNewUser]);\r\n\r\n    // Initialize prompt for user\r\n    useEffect(() => {\r\n        if (!user) return;\r\n        \r\n        if (forNewUser) {\r\n            if (promptIndex < prompts.length) {\r\n                setCurrentPrompt(prompts[promptIndex]);\r\n                setSubmitted(false);\r\n                setResponse('');\r\n            } else {\r\n                // All prompts completed for new user\r\n                handleComplete();\r\n            }\r\n            return;\r\n        }\r\n        \r\n        // For existing users, show prompts occasionally\r\n        const shouldShowPrompt = () => {\r\n            const lastPromptTime = localStorage.getItem('lastPromptTime');\r\n            if (lastPromptTime) {\r\n                const timeSinceLastPrompt = Date.now() - parseInt(lastPromptTime);\r\n                const oneDayInMs = 24 * 60 * 60 * 1000;\r\n                if (timeSinceLastPrompt < oneDayInMs) {\r\n                    return false;\r\n                }\r\n            }\r\n            return Math.random() < 0.3;\r\n        };\r\n\r\n        if (shouldShowPrompt()) {\r\n            const answeredPromptIds = JSON.parse(localStorage.getItem('answeredPrompts') || '[]');\r\n            const eligiblePrompts = prompts.filter(prompt => !answeredPromptIds.includes(prompt.id));\r\n            \r\n            if (eligiblePrompts.length > 0) {\r\n                const randomIndex = Math.floor(Math.random() * eligiblePrompts.length);\r\n                setCurrentPrompt(eligiblePrompts[randomIndex]);\r\n                setSubmitted(false);\r\n                setResponse('');\r\n            }\r\n        }\r\n    }, [user, promptIndex, forNewUser, prompts]);\r\n\r\n    const handleComplete = useCallback(() => {\r\n        if (setIsNewUser) {\r\n            setIsNewUser(false);\r\n        }\r\n        if (onComplete) {\r\n            onComplete();\r\n        }\r\n        \r\n        // Show match improvement data\r\n        const improvementData = {\r\n            questionsAnswered: forNewUser ? prompts.length : 1,\r\n            matchQualityIncrease: forNewUser ? 45 : 15,\r\n            newPotentialMatches: forNewUser ? 12 : 3,\r\n            profileCompleteness: forNewUser ? 85 : (user.profileCompleteness || 60) + 10\r\n        };\r\n        setMatchImprovementData(improvementData);\r\n    }, [setIsNewUser, onComplete, forNewUser, prompts.length, user]);\r\n\r\n    const handleOptionSelect = useCallback((option) => {\r\n        setResponse(option);\r\n        // Auto-submit after a short delay for smoother UX\r\n        setTimeout(() => {\r\n            if (option) {\r\n                setResponse(option);\r\n                // Trigger submit automatically for better flow\r\n                handleSubmit();\r\n            }\r\n        }, 300);\r\n    }, [handleSubmit]);\r\n\r\n    const handleSubmit = useCallback(async () => {\r\n        if (!response || !currentPrompt || loading) return;\r\n        \r\n        setLoading(true);\r\n        try {\r\n            const updateData = {};\r\n            \r\n            // Create nested structure if needed\r\n            if (!user[currentPrompt.category]) {\r\n                updateData[currentPrompt.category] = {};\r\n            } else {\r\n                updateData[currentPrompt.category] = { ...user[currentPrompt.category] };\r\n            }\r\n            \r\n            // Handle mapped values\r\n            if (currentPrompt.mapping && currentPrompt.mapping[response]) {\r\n                updateData[currentPrompt.category][currentPrompt.field] = currentPrompt.mapping[response];\r\n            } else if (Array.isArray(user[currentPrompt.category]?.[currentPrompt.field])) {\r\n                updateData[currentPrompt.category][currentPrompt.field] = [\r\n                    ...(user[currentPrompt.category][currentPrompt.field] || []),\r\n                    response\r\n                ];\r\n            } else {\r\n                updateData[currentPrompt.category][currentPrompt.field] = response;\r\n            }\r\n            \r\n            // Update user context immediately for responsiveness\r\n            if (setUser) {\r\n                setUser(prev => ({\r\n                    ...prev,\r\n                    [currentPrompt.category]: {\r\n                        ...(prev[currentPrompt.category] || {}),\r\n                        [currentPrompt.field]: updateData[currentPrompt.category][currentPrompt.field]\r\n                    }\r\n                }));\r\n            }\r\n            \r\n            // Move to next question immediately, API call in background\r\n            setSubmitted(true);\r\n            \r\n            // For new users, move to next prompt quickly\r\n            if (forNewUser) {\r\n                setTimeout(() => {\r\n                    setPromptIndex(prev => prev + 1);\r\n                }, 800); // Reduced from 1500ms\r\n            } else {\r\n                // For existing users, show completion\r\n                setTimeout(() => {\r\n                    handleComplete();\r\n                }, 1000); // Reduced from 2000ms\r\n            }\r\n            \r\n            // API call happens in background\r\n            await updateUserProfile(updateData);\r\n            \r\n            // Record answered prompt\r\n            const answeredPrompts = JSON.parse(localStorage.getItem('answeredPrompts') || '[]');\r\n            answeredPrompts.push(currentPrompt.id);\r\n            localStorage.setItem('answeredPrompts', JSON.stringify(answeredPrompts));\r\n            localStorage.setItem('lastPromptTime', Date.now().toString());\r\n            \r\n        } catch (err) {\r\n            console.error('Error updating profile with prompt response:', err);\r\n            // Don't block UI for API errors - could show a toast notification instead\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [response, currentPrompt, loading, user, setUser, forNewUser, handleComplete]);\r\n\r\n    const handleSkip = useCallback(() => {\r\n        if (forNewUser) {\r\n            setPromptIndex(prev => prev + 1);\r\n        } else {\r\n            setCurrentPrompt(null);\r\n        }\r\n    }, [forNewUser]);\r\n\r\n    // Show match improvement results\r\n    if (matchImprovementData) {\r\n        return (\r\n            <div className=\"match-improvement-results\">\r\n                <div className=\"improvement-header\">\r\n                    <h3>üéâ Great! Your profile just got better!</h3>\r\n                    <p>Here's how your responses are helping us find better matches:</p>\r\n                </div>\r\n                \r\n                <div className=\"improvement-stats\">\r\n                    <div className=\"stat-item\">\r\n                        <div className=\"stat-number\">+{matchImprovementData.matchQualityIncrease}%</div>\r\n                        <div className=\"stat-label\">Match Quality Increase</div>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <div className=\"stat-number\">+{matchImprovementData.newPotentialMatches}</div>\r\n                        <div className=\"stat-label\">New Potential Matches</div>\r\n                    </div>\r\n                    <div className=\"stat-item\">\r\n                        <div className=\"stat-number\">{matchImprovementData.profileCompleteness}%</div>\r\n                        <div className=\"stat-label\">Profile Complete</div>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"improvement-explanation\">\r\n                    <p>\r\n                        üìä Your answers help our algorithm understand your preferences better. \r\n                        The more you tell us, the better matches we can find!\r\n                    </p>\r\n                </div>\r\n                \r\n                <button \r\n                    className=\"continue-button\"\r\n                    onClick={() => setMatchImprovementData(null)}\r\n                >\r\n                    Continue to Dashboard\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!currentPrompt || !user) return null;\r\n    \r\n    return (\r\n        <div className=\"profile-prompt-container enhanced\">\r\n            {/* Progress bar for new users */}\r\n            {forNewUser && (\r\n                <div className=\"questionnaire-progress\">\r\n                    <div className=\"progress-header\">\r\n                        <span>Question {promptIndex + 1} of {prompts.length}</span>\r\n                        <span>{progress}% complete</span>\r\n                    </div>\r\n                    <div className=\"progress-bar\">\r\n                        <div \r\n                            className=\"progress-fill\" \r\n                            style={{ width: `${progress}%` }}\r\n                        ></div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            \r\n            <div className=\"profile-prompt-card enhanced\">\r\n                {!submitted ? (\r\n                    <>\r\n                        <div className=\"prompt-header\">\r\n                            <h3>{forNewUser ? 'üëã Let\\'s get to know you!' : 'üí° Quick Question'}</h3>\r\n                            <div className=\"importance-indicator\">\r\n                                <span className={`importance-badge ${currentPrompt.importance}`}>\r\n                                    {currentPrompt.importance === 'high' ? '‚≠ê Important' : 'üìà Helpful'}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <p className=\"prompt-question\">{currentPrompt.question}</p>\r\n                        \r\n                        {currentPrompt.explanation && (\r\n                            <p className=\"prompt-explanation\">{currentPrompt.explanation}</p>\r\n                        )}\r\n                        \r\n                        <div className=\"prompt-options enhanced\">\r\n                            {currentPrompt.options.map((option, index) => (\r\n                                <button\r\n                                    key={index}\r\n                                    className={`prompt-option enhanced ${response === option ? 'selected' : ''}`}\r\n                                    onClick={() => handleOptionSelect(option)}\r\n                                    disabled={loading}\r\n                                >\r\n                                    {option}\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                        \r\n                        <div className=\"prompt-actions enhanced\">\r\n                            <button \r\n                                className={`prompt-submit enhanced ${!response || loading ? 'disabled' : ''}`}\r\n                                onClick={handleSubmit}\r\n                                disabled={!response || loading}\r\n                            >\r\n                                {loading ? (\r\n                                    <>\r\n                                        <span className=\"loading-spinner small\"></span>\r\n                                        Saving...\r\n                                    </>\r\n                                ) : (\r\n                                    forNewUser ? 'Next' : 'Save'\r\n                                )}\r\n                            </button>\r\n                            \r\n                            <button \r\n                                className=\"prompt-skip enhanced\"\r\n                                onClick={handleSkip}\r\n                                disabled={loading}\r\n                            >\r\n                                Skip\r\n                            </button>\r\n                        </div>\r\n                        \r\n                        {forNewUser && (\r\n                            <p className=\"prompt-note enhanced\">\r\n                                üí° Each answer helps us find friends who truly match your personality and preferences.\r\n                            </p>\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    <div className=\"prompt-success enhanced\">\r\n                        <div className=\"success-icon\">‚úÖ</div>\r\n                        <h3>Perfect!</h3>\r\n                        <p>{forNewUser ? 'Moving to the next question...' : 'Your response has been saved!'}</p>\r\n                        {!forNewUser && (\r\n                            <p className=\"match-impact\">\r\n                                This will help us find {Math.floor(Math.random() * 3) + 2} better matches for you!\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfilePrompts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}